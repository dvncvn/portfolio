@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));


:root {
  --background: #0B0A09;
  --foreground: #E9E9E2;
  --muted-foreground: #A3A3A3;
  --highlight: #01F8A5;
  --highlight-foreground: #0B0A09;
  /* Neutral-only UI: no red accent */
  --accent: #E9E9E2;
  --accent-foreground: #0B0A09;
  --card: #151413;
  --card-foreground: #E9E9E2;
  --popover: #151413;
  --popover-foreground: #E9E9E2;
  --primary: #E9E9E2;
  --primary-foreground: #0B0A09;
  --secondary: #1a1918;
  --secondary-foreground: #E9E9E2;
  --muted: #1a1918;
  --destructive: #E9E9E2;
  --border: rgba(255, 255, 255, 0.08);
  --input: rgba(255, 255, 255, 0.1);
  --ring: #A3A3A3;
  --surface: #151413;
  --play-card-hover-bg: #121212;
  --radius: 0.5rem;
  /* Fonts (set by next/font in layout.tsx) */
  --font-sans: var(--font-inter);
  --font-mono: var(--font-ibm-plex-mono);
  color-scheme: dark;
}

/* Light theme placeholder - to be implemented later */
:root[data-theme="light"] {
  --background: #f8f8f6;
  --foreground: #111113;
  --muted-foreground: #5f5f6a;
  --highlight: #01F8A5;
  --highlight-foreground: #0B0A09;
  /* Neutral-only UI: no red accent */
  --accent: #111113;
  --accent-foreground: #ffffff;
  --card: #ffffff;
  --card-foreground: #111113;
  --surface: #ffffff;
  --border: rgba(0, 0, 0, 0.08);
  --play-card-hover-bg: rgba(0, 0, 0, 0.04);
  color-scheme: light;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-muted-foreground: var(--muted-foreground);
  --color-surface: var(--surface);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-destructive: var(--destructive);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --font-sans: var(--font-inter);
  --font-mono: var(--font-ibm-plex-mono);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --radius-2xl: calc(var(--radius) + 8px);
}

body {
  font-family: var(--font-sans), system-ui, -apple-system, sans-serif;
}

/* Text selection highlight */
::selection {
  background: var(--highlight);
  color: var(--highlight-foreground);
}

::-moz-selection {
  background: var(--highlight);
  color: var(--highlight-foreground);
}

/* Optional inline highlight utility */
.text-highlight {
  background: var(--highlight);
  color: var(--highlight-foreground);
  border-radius: 6px;
  padding: 0.08em 0.28em;
}

html {
  /* Prevent layout shift when vertical scrollbar appears/disappears */
  scrollbar-gutter: stable both-edges;
  overflow-y: scroll;
}

/* Keyboard focus treatment */
:where(a, button, input, select, textarea, [role="button"], [tabindex]:not([tabindex="-1"])):focus-visible {
  outline: 2px solid var(--ring);
  outline-offset: 3px;
}

/* Home/work grid hover emphasis: dim non-hovered cards (including dead space) */
.work-card {
  transition: opacity 300ms ease;
}

.work-section:hover .work-card,
.work-section:focus-within .work-card {
  opacity: 0.45;
}

.work-section:hover .work-card:hover,
.work-section:hover .work-card:focus-within,
.work-section:focus-within .work-card:focus-within {
  opacity: 1;
}

/* Bento section hover states */
.bento-card {
  contain: content;
}

.bento-section:hover .bento-card,
.bento-section:focus-within .bento-card {
  opacity: 0.45;
}

.bento-section:hover .bento-card:hover,
.bento-section:hover .bento-card:focus-within,
.bento-section:focus-within .bento-card:focus-within {
  opacity: 1;
}

/* Work card SVG accent transitions */
.work-card [data-accent-stroke="true"] {
  stroke: #E9E9E2;
  transition: stroke 850ms ease-out;
}

.work-card [data-accent-fill="true"] {
  fill: #E9E9E2;
  transition: fill 850ms ease-out;
}

.work-card [data-accent-stop="true"] {
  stop-color: #E9E9E2;
  transition: stop-color 850ms ease-out;
}

.work-card.is-hovered [data-accent-stroke="true"] {
  stroke: var(--highlight);
}

.work-card.is-hovered [data-accent-fill="true"] {
  fill: var(--highlight);
}

.work-card.is-hovered [data-accent-stop="true"] {
  stop-color: var(--highlight);
}

/* Carousel scroller - hide scrollbar */
.carousel-scroller::-webkit-scrollbar {
  display: none;
}

/* Play card hover surface (theme aware) */
.play-card {
  position: relative;
  z-index: 0;
  isolation: isolate;
}

.play-card::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: 8px;
  background: var(--play-card-hover-bg);
  z-index: -1;
  opacity: 0;
  transform: scale(0.98);
  transition:
    opacity 320ms ease-out,
    transform 320ms ease-out;
  pointer-events: none;
}

.play-card > * {
  position: relative;
  z-index: 1;
}

.play-card:hover::before,
.play-card:focus-visible::before {
  opacity: 1;
  transform: scale(1);
}

/* Marquee animation */
@keyframes marquee-forward {
  0% {
    transform: translateX(0);
  }
  100% {
    transform: translateX(-50%);
  }
}

@keyframes marquee-reverse {
  0% {
    transform: translateX(-50%);
  }
  100% {
    transform: translateX(0);
  }
}

.marquee-content {
  --marquee-duration: 60s;
  will-change: transform;
  backface-visibility: hidden;
}

.marquee-content.marquee-forward {
  animation: marquee-forward var(--marquee-duration) linear infinite;
}

.marquee-content.marquee-reverse {
  animation: marquee-reverse var(--marquee-duration) linear infinite;
}

.marquee-pause-on-hover:hover .marquee-content {
  animation-play-state: paused;
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
}
