@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));


:root {
  --background: #0B0A09;
  --foreground: #E9E9E2;
  --muted-foreground: #A3A3A3;
  --highlight: #01F8A5;
  --highlight-foreground: #0B0A09;
  /* Neutral-only UI: no red accent */
  --accent: #E9E9E2;
  --accent-foreground: #0B0A09;
  --card: #151413;
  --card-foreground: #E9E9E2;
  --popover: #151413;
  --popover-foreground: #E9E9E2;
  --primary: #E9E9E2;
  --primary-foreground: #0B0A09;
  --secondary: #1a1918;
  --secondary-foreground: #E9E9E2;
  --muted: #1a1918;
  --destructive: #E9E9E2;
  --border: rgba(255, 255, 255, 0.08);
  --input: rgba(255, 255, 255, 0.1);
  --ring: #A3A3A3;
  --surface: #151413;
  --play-card-hover-bg: #1a1a1a;
  --radius: 0.5rem;
  /* Fonts (set by next/font in layout.tsx) */
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
  color-scheme: dark;
}

/* Light theme placeholder - to be implemented later */
:root[data-theme="light"] {
  --background: #f8f8f6;
  --foreground: #111113;
  --muted-foreground: #5f5f6a;
  --highlight: #01F8A5;
  --highlight-foreground: #0B0A09;
  /* Neutral-only UI: no red accent */
  --accent: #111113;
  --accent-foreground: #ffffff;
  --card: #ffffff;
  --card-foreground: #111113;
  --surface: #ffffff;
  --border: rgba(0, 0, 0, 0.08);
  --play-card-hover-bg: rgba(0, 0, 0, 0.04);
  color-scheme: light;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-muted-foreground: var(--muted-foreground);
  --color-surface: var(--surface);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-destructive: var(--destructive);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --radius-2xl: calc(var(--radius) + 8px);
}

body {
  font-family: var(--font-sans), system-ui, -apple-system, sans-serif;
}

/* Text selection highlight */
::selection {
  background: var(--highlight);
  color: var(--highlight-foreground);
}

::-moz-selection {
  background: var(--highlight);
  color: var(--highlight-foreground);
}

/* Optional inline highlight utility */
.text-highlight {
  background: var(--highlight);
  color: var(--highlight-foreground);
  border-radius: 6px;
  padding: 0.08em 0.28em;
}

html {
  /* Prevent layout shift when vertical scrollbar appears/disappears */
  scrollbar-gutter: stable both-edges;
  overflow-y: scroll;
}

/* Keyboard focus treatment */
:where(a, button, input, select, textarea, [role="button"], [tabindex]:not([tabindex="-1"])):focus-visible {
  outline: 2px solid var(--ring);
  outline-offset: 3px;
}

/* Home/work grid hover emphasis: dim non-hovered cards (including dead space) */
.work-card {
  transition: opacity 300ms ease;
}

.work-section:hover .work-card,
.work-section:focus-within .work-card {
  opacity: 0.45;
}

.work-section:hover .work-card:hover,
.work-section:hover .work-card:focus-within,
.work-section:focus-within .work-card:focus-within {
  opacity: 1;
}

/* Work card vignette - tighter on mobile to hide clipped edges */
.work-card-vignette {
  background: radial-gradient(ellipse 50% 45% at center, transparent 30%, #0B0A09 85%);
}

@media (min-width: 640px) {
  .work-card-vignette {
    background: radial-gradient(ellipse 62% 55% at center, transparent 45%, #0B0A09 95%);
  }
}

/* Bento section hover states */
.bento-card {
  contain: content;
}

.bento-section:hover .bento-card,
.bento-section:focus-within .bento-card {
  opacity: 0.45;
}

.bento-section:hover .bento-card:hover,
.bento-section:hover .bento-card:focus-within,
.bento-section:focus-within .bento-card:focus-within {
  opacity: 1;
}

/* Work card SVG accent transitions */
.work-card [data-accent-stroke="true"] {
  stroke: #E9E9E2;
  transition: stroke 850ms ease-out;
}

.work-card [data-accent-fill="true"] {
  fill: #E9E9E2;
  transition: fill 850ms ease-out;
}

.work-card [data-accent-stop="true"] {
  stop-color: #E9E9E2;
  transition: stop-color 850ms ease-out;
}

.work-card.is-hovered [data-accent-stroke="true"] {
  stroke: var(--highlight);
}

.work-card.is-hovered [data-accent-fill="true"] {
  fill: var(--highlight);
}

.work-card.is-hovered [data-accent-stop="true"] {
  stop-color: var(--highlight);
}

/* Carousel scroller - hide scrollbar */
.carousel-scroller::-webkit-scrollbar {
  display: none;
}

/* Generic scrollbar hide utility */
.scrollbar-hide::-webkit-scrollbar,
.scrollbar-none::-webkit-scrollbar {
  display: none;
}

.scrollbar-hide,
.scrollbar-none {
  -ms-overflow-style: none; /* IE/Edge */
  scrollbar-width: none; /* Firefox */
}

/* Play card hover surface (theme aware) */
.play-card {
  position: relative;
  z-index: 0;
  isolation: isolate;
}

.play-card::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: 8px;
  background: var(--play-card-hover-bg);
  z-index: -1;
  opacity: 0;
  transform: scale(0.98);
  transition:
    opacity 320ms ease-out,
    transform 320ms ease-out;
  pointer-events: none;
}

.play-card > * {
  position: relative;
  z-index: 1;
}

.play-card:hover::before,
.play-card:focus-visible::before {
  opacity: 1;
  transform: scale(1);
}

/* Marquee animation */
@keyframes marquee-forward {
  0% {
    transform: translateX(0);
  }
  100% {
    transform: translateX(-50%);
  }
}

@keyframes marquee-reverse {
  0% {
    transform: translateX(-50%);
  }
  100% {
    transform: translateX(0);
  }
}

.marquee-content {
  --marquee-duration: 60s;
  will-change: transform;
  backface-visibility: hidden;
}

.marquee-content.marquee-forward {
  animation: marquee-forward var(--marquee-duration) linear infinite;
}

.marquee-content.marquee-reverse {
  animation: marquee-reverse var(--marquee-duration) linear infinite;
}

.marquee-pause-on-hover:hover .marquee-content {
  animation-play-state: paused;
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* ğŸ€ RAT MODE ğŸ€ */
@keyframes rainbow-shift {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

@keyframes wobble {
  0%, 100% { transform: rotate(-2deg); }
  50% { transform: rotate(2deg); }
}

@keyframes crazy-wobble {
  0% { transform: rotate(-3deg) scale(1); }
  25% { transform: rotate(2deg) scale(1.02); }
  50% { transform: rotate(-2deg) scale(0.98); }
  75% { transform: rotate(3deg) scale(1.01); }
  100% { transform: rotate(-3deg) scale(1); }
}

@keyframes float-up {
  0% { transform: translateY(100vh) rotate(0deg); opacity: 1; }
  100% { transform: translateY(-100px) rotate(360deg); opacity: 0; }
}

@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

@keyframes pulse-glow {
  0%, 100% { text-shadow: 0 0 10px #ff0, 0 0 20px #ff0, 0 0 30px #ff0; }
  50% { text-shadow: 0 0 20px #f0f, 0 0 40px #f0f, 0 0 60px #f0f; }
}

@keyframes skew-shake {
  0%, 100% { transform: skewX(-5deg); }
  50% { transform: skewX(5deg); }
}

@keyframes hue-rotate {
  from { filter: hue-rotate(0deg); }
  to { filter: hue-rotate(360deg); }
}

.rat-mode {
  --rat-rainbow: linear-gradient(
    124deg,
    #ff2400, #e81d1d, #e8b71d, #e3e81d,
    #1de840, #1ddde8, #2b1de8, #dd00f3,
    #dd00f3, #ff2400
  );
}

/* COMIC SANS EVERYTHING */
.rat-mode,
.rat-mode *,
.rat-mode *::before,
.rat-mode *::after {
  font-family: "Comic Sans MS", "Comic Sans", "Chalkboard SE", cursive !important;
}

/* RAINBOW BACKGROUND ON EVERYTHING */
.rat-mode {
  background: var(--rat-rainbow) !important;
  background-size: 400% 400% !important;
  animation: rainbow-shift 2s ease infinite !important;
  cursor: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='32' height='32' style='font-size:24px'><text y='24'>ğŸ€</text></svg>") 16 16, auto !important;
}

.rat-mode body {
  background: var(--rat-rainbow) !important;
  background-size: 400% 400% !important;
  animation: rainbow-shift 2s ease infinite, wobble 0.3s ease infinite !important;
}

/* Cards and containers get the rainbow treatment + wobble */
.rat-mode header,
.rat-mode footer,
.rat-mode main,
.rat-mode div[class*="card"],
.rat-mode div[class*="bg-"],
.rat-mode section {
  background: var(--rat-rainbow) !important;
  background-size: 400% 400% !important;
  animation: rainbow-shift 2s ease infinite, crazy-wobble 0.5s ease infinite !important;
}

/* Images go crazy */
.rat-mode img {
  animation: spin 3s linear infinite, hue-rotate 2s linear infinite !important;
  border-radius: 50% !important;
  border: 4px dashed magenta !important;
}

/* Links spin on hover */
.rat-mode a:hover {
  animation: spin 0.5s linear infinite !important;
  display: inline-block;
}

/* Text gets glow effect */
.rat-mode h1, .rat-mode h2, .rat-mode h3, .rat-mode h4 {
  animation: pulse-glow 1s ease infinite, skew-shake 0.2s ease infinite !important;
  color: yellow !important;
}

/* Buttons go wild */
.rat-mode button {
  animation: crazy-wobble 0.3s ease infinite !important;
  background: linear-gradient(45deg, #ff00ff, #00ffff, #ffff00, #ff00ff) !important;
  background-size: 300% 300% !important;
  border: 3px dotted lime !important;
  border-radius: 20px !important;
}

/* SVGs spin */
.rat-mode svg {
  animation: spin 2s linear infinite, hue-rotate 1s linear infinite !important;
}

/* Nav links dance */
.rat-mode nav a {
  animation: crazy-wobble 0.4s ease infinite !important;
  display: inline-block;
  color: lime !important;
  text-shadow: 2px 2px 0 #ff00ff, -2px -2px 0 #00ffff !important;
}

/* Everything has a colorful border */
.rat-mode * {
  border-color: magenta !important;
}

/* Rat mode exit hint - KEEP THIS SANE */
.rat-mode-hint,
.rat-mode-hint * {
  all: revert;
  position: fixed !important;
  bottom: 24px !important;
  left: 50% !important;
  transform: translateX(-50%) !important;
  z-index: 9999 !important;
  background: rgba(0, 0, 0, 0.9) !important;
  backdrop-filter: blur(8px) !important;
  padding: 12px 24px !important;
  border-radius: 8px !important;
  font-family: system-ui, -apple-system, sans-serif !important;
  font-size: 14px !important;
  color: white !important;
  border: 1px solid rgba(255, 255, 255, 0.2) !important;
  animation: none !important;
  text-shadow: none !important;
  filter: none !important;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5) !important;
}

/* Floating rat emojis */
.rat-mode::after {
  content: "ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€";
  position: fixed;
  bottom: -50px;
  left: 0;
  right: 0;
  font-size: 40px;
  text-align: center;
  animation: float-up 4s linear infinite;
  pointer-events: none;
  z-index: 9998;
}
